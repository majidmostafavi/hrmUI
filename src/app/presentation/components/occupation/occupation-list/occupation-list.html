<p-table [value]="occupations">
  <ng-template pTemplate="header">
    <tr>
      <th>کد</th>
      <th>نام</th>
      <th>تعداد مصوب</th>
      <th>شيفت موظف</th>
      <th>اضافه کاری قانونی</th>
      <th> بخش </th>
      <th>
        <button  pButton
                 [rounded]="true"
                 severity="success"
                 [text]="true"
                 icon="pi pi-plus" (click)="addOccupation()"></button>
      </th>
    </tr>
  </ng-template>
  <ng-template pTemplate="body" let-emp>
    <tr>
      <td>{{ emp.code }}</td>
      <td>{{ emp.name }}</td>
      <td>{{ emp.approvedHeadcount }}</td>
      <td>{{ emp.mandatoryShifts }}</td>
      <td>{{ emp.regulatoryOvertime }}</td>
      <td>{{ emp.department.name }}</td>
      <td>
        <button
          pButton
          [rounded]="true"
          [text]="true"
          severity="info"
          icon="pi pi-bars"
          (click)="detailOccupation()"
        ></button>
        <button
          pButton
          [rounded]="true"
          [text]="true"
          severity="warn"
          icon="pi pi-pencil"
          (click)="editOccupation(emp)"
        ></button>
        <button
          pButton
          [rounded]="true"
          [text]="true"
          severity="danger"
          icon="pi pi-trash"
          (click)="deleteOccupation(emp.id)"
        ></button>
      </td>
    </tr>
  </ng-template>
</p-table>

<p-dialog
  header="{{ isEditing ? 'ویرایش شغل' : 'ایجاد شغل' }}"
  [(visible)]="displayDialog"
  [modal]="true"
  [maximizable]="true"
>
  <app-occupation-form
    [occupation]="selectedOccupation"
    [departments]="departments"
    (save)="createOccupation($event)"
    (cancel)="closeDialog()"
  >
  </app-occupation-form>
</p-dialog>
